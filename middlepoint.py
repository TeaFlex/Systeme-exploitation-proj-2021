from os import name
import numpy as np
import matplotlib.pyplot as plt

def middlepoint(a, b, function):

    # Point milieu
    xm = (b+a)/2
    ym = function(xm)

    # Points de la fonction
    x = np.linspace(a, b, 100)
    y = function(x)

    # Calcul de l'intégrale rapprochée
    result = ym*(b-a)
    print(f"middle: {(xm, ym)} result: {result}")

    # Calcul de l'erreur

    # Affichage des résultats
    fig = plt.figure(figsize= (10, 10))
    plt.plot(x, y)
    plt.fill_between(x, ym, color="#00FF00", alpha=0.1)
    plt.axhline(ym, color='r', ls="--", alpha=0.5)
    plt.plot([xm, xm], [ym, 0], 'k-', ls='--', alpha=0.5, color='r')
    plt.scatter(xm, ym)
    plt.scatter(xm, 0)
    plt.show()
