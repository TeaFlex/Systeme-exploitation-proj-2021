import numpy as np
from sympy import sympify
from trapeze import trapeze_methode

def main():
    try:
        #Expression sous forme de string
        strExp = input("Entrez la fonction que vous voulez intégrer: ")
        #Expression "pythonifiée"
        funcExp = sympify(strExp)

        #Bornes
        a = int(input("Entrez la borne inférieure d'intégration: "))
        b = int(input("Entrez la borne supérieur d'intégration: "))
        
        #Intervalle d'intégration
        m = 0
        while (m <= 0):
            m = int(input("Entrez le nombre d'intervalle d'intégration (positif non null): "))

        if(a>b): 
            print("a étant plus grand que b, les deux valeurs ont été échangées.")
            a, b = b, a

        trapeze_methode(funcExp,a,b,m)
        #appel du code principal ici
    except ValueError as err:
        print("Erreur de valeur")
        print(err)
        pass
    except Exception as err:
        print(err) 
        #gestion des erreurs ici
        pass

if __name__ == "__main__":
    main()